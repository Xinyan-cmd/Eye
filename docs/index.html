<!DOCTYPE html>
<html>
<head>
    <title>PS4 WebKit Tests</title>
    <style>
        body { font-family: monospace; background: #111; color: #0f0; }
        #log { white-space: pre; margin: 20px; }
    </style>
</head>
<body>
    <h1>PS4 WebKit Exploit Tests</h1>
    <div id="log"></div>

    <script src="/lib/utils.js"></script>
    <script src="/lib/spray.js"></script>
    
    <!-- Load exploits dynamically -->
    <script>
        const exploits = [
            '/exploits/jit-confusion.js',
            '/exploits/arraybuffer-oob.js',
            '/exploits/dom-uaf.js',
            '/exploits/wasm-rwx.js',
            '/exploits/css-shader.js'
        ];

        async function runTests() {
            log("Starting tests...\n");
            
            for (const url of exploits) {
                try {
                    await import(url).then(module => {
                        log(`[+] ${module.testName}: ${module.runTest()}`);
                    });
                } catch (e) {
                    log(`[-] Failed to load: ${url}`);
                }
                await new Promise(resolve => setTimeout(resolve, 1000)); // Delay between tests
            }
        }

        // Start after DOM loads
        window.onload = runTests;
    </script>
</body>
</html>
